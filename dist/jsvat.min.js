(function(){
'use strict';var jsvat=function(){var f={},m={config:[],checkVAT:function(b){var a={value:(b||"").toString().toUpperCase().replace(/(\s|-|\.)+/g,""),isValid:!1,country:null};if(!b)return a;for(var c in f)if(f.hasOwnProperty(c)){a:{var d=a.value;b=c;for(var e=f[b].rules.regex,h=0;h<e.length;h++){var g;g=d;var k=e[h],n=b,l=!1;k.test(g)&&(g=k.exec(g)[2],l=f[n].calcs(g));if(g=l){if(d=g)d=m.config,d=!(d&&0!==d.length&&-1===d.indexOf(b));b=d;break a}}b=!1}a.isValid=b;if(a.isValid){a.country=c;break}}return a}};
f.austria={calcs:function(b){for(var a=0,c,d=0;7>d;d++)c=b.charAt(d)*this.rules.multipliers[d],a=9<c?a+(Math.floor(c/10)+c%10):a+c;a=10-(a+4)%10;10===a&&(a=0);return a===+b.slice(7,8)},rules:{multipliers:[1,2,1,2,1,2,1],regex:[/^(AT)U(\d{8})$/]}};f.belgium={calcs:function(b){9===b.length&&(b="0"+b);return+b.slice(1,2)?97-+b.slice(0,8)%97===+b.slice(8,10):!1},rules:{regex:[/^(BE)(0?\d{9})$/]}};f.bulgaria=function(){function b(a,b,e,f,g){for(;e<f;e++)a+=+b.charAt(e)*(e+g);return a}function a(a,b,e,
f,g){for(;e<f;e++)a+=+b.charAt(e)*g[e];return a}return{calcs:function(c){if(9===c.length){var d;d=0;var e=+c.slice(8);d=b(d,c,0,8,1);d%=11;10===d&&(d=b(0,c,0,8,3),d%=11,10===d&&(d=0));return d===e}a:{e=this.rules;if(/^\d\d[0-5]\d[0-3]\d\d{4}$/.test(c)&&(d=+c.slice(2,4),0<d&&13>d||20<d&&33>d||40<d&&53>d)&&(e=a(0,c,0,9,e.multipliers.physical),e%=11,10===e&&(e=0),e===+c.substr(9,1))){e=!0;break a}e=!1}e||(e=a(0,c,0,9,this.rules.multipliers.foreigner)%10===+c.substr(9,1)?!0:void 0);e||(e=a(0,c,0,9,this.rules.multipliers.miscellaneous),
e=11-e%11,10===e?e=!1:(11===e&&(e=0),c=+c.substr(9,1),e=e===c));return e},rules:{multipliers:{physical:[2,4,8,5,10,9,7,3,6],foreigner:[21,19,17,13,11,9,7,3,1],miscellaneous:[4,3,2,7,6,5,4,3,2]},regex:[/^(BG)(\d{9,10})$/]}}}();f.croatia={calcs:function(b){for(var a=10,c=0;10>c;c++)(a=(+b.charAt(c)+a)%10)||(a=10),a=2*a%11;b=+b.slice(10,11);return 1===(a+b)%10},rules:{regex:[/^(HR)(\d{11})$/]}};f.cyprus={calcs:function(b){var a=0;if(12===+b.slice(0,2))return!1;for(var c=0;8>c;c++){var d=+b.charAt(c);
if(!(c%2))switch(d){case 0:d=1;break;case 1:d=0;break;case 2:d=5;break;case 3:d=7;break;case 4:d=9;break;default:d=2*d+3}a+=d}a=String.fromCharCode(a%26+65);b=b.substr(8,1);return a===b},rules:{regex:[/^(CY)([0-59]\d{7}[A-Z])$/]}};f.czech_republic=function(){return{calcs:function(b){var a;var c=this.rules;a=0;if(c.additional[0].test(b)){for(var d=0;7>d;d++)a+=+b.charAt(d)*c.multipliers[d];a=11-a%11;10===a&&(a=0);11===a&&(a=1);c=+b.slice(7,8);a=a===c}else a=!1;if(a)return!0;a=this.rules;c=0;if(a.additional[2].test(b)){for(d=
0;7>d;d++)c+=+b.charAt(d+1)*a.multipliers[d];c=11-c%11;10===c&&(c=0);11===c&&(c=1);d=+b.slice(8,9);a=a.lookup[c-1]===d}else a=!1;if(a)return!0;b=this.rules.additional[3].test(b)?!((+b.slice(0,2)+b.slice(2,4)+b.slice(4,6)+b.slice(6,8)+b.slice(8))%11||+b%11):!1;return b?!0:!1},rules:{multipliers:[8,7,6,5,4,3,2],lookup:[8,7,6,5,4,3,2,1,0,9,10],regex:[/^(CZ)(\d{8,10})(\d{3})?$/],additional:[/^\d{8}$/,/^[0-5][0-9][0|1|5|6]\d[0-3]\d\d{3}$/,/^6\d{8}$/,/^\d{2}[0-3|5-8]\d[0-3]\d\d{4}$/]}}}();f.denmark={calcs:function(b){for(var a=
0,c=0;8>c;c++)a+=+b.charAt(c)*this.rules.multipliers[c];return!(a%11)},rules:{multipliers:[2,7,6,5,4,3,2,1],regex:[/^(DK)(\d{8})$/]}};f.estonia={calcs:function(b){for(var a=0,c=0;8>c;c++)a+=+b.charAt(c)*this.rules.multipliers[c];a=10-a%10;10===a&&(a=0);b=+b.slice(8,9);return a===b},rules:{multipliers:[3,7,1,3,7,1,3,7],regex:[/^(EE)(10\d{7})$/]}};f.europe={calcs:function(){return!0},rules:{regex:[/^(EU)(\d{9})$/]}};f.finland={calcs:function(b){for(var a=0,c=0;7>c;c++)a+=+b.charAt(c)*this.rules.multipliers[c];
a=11-a%11;9<a&&(a=0);b=+b.slice(7,8);return a===b},rules:{multipliers:[7,9,10,5,8,4,2],regex:[/^(FI)(\d{8})$/]}};f.france={calcs:function(b){var a;if(!/^\d{11}$/.test(b))return!0;a=+b.substring(2);a=(100*a+12)%97;b=+b.slice(0,2);return a===b},rules:{regex:[/^(FR)(\d{11})$/,/^(FR)([A-HJ-NP-Z]\d{10})$/,/^(FR)(\d[A-HJ-NP-Z]\d{9})$/,/^(FR)([A-HJ-NP-Z]{2}\d{9})$/]}};f.germany={calcs:function(b){var a=10,c;for(c=0;8>c;c++)(a=(+b.charAt(c)+a)%10)||(a=10),a=2*a%11;c=10===11-a?0:11-a;b=+b.slice(8,9);return c===
b},rules:{regex:[/^(DE)([1-9]\d{8})$/]}};f.greece={calcs:function(b){var a=0;8===b.length&&(b="0"+b);for(var c=0;8>c;c++)a+=+b.charAt(c)*this.rules.multipliers[c];a%=11;9<a&&(a=0);b=+b.slice(8,9);return a===b},rules:{multipliers:[256,128,64,32,16,8,4,2],regex:[/^(EL)(\d{9})$/]}};f.hungary={calcs:function(b){for(var a=0,c=0;7>c;c++)a+=+b.charAt(c)*this.rules.multipliers[c];a=10-a%10;10===a&&(a=0);b=+b.slice(7,8);return a===b},rules:{multipliers:[9,7,3,1,9,7,3],regex:[/^(HU)(\d{8})$/]}};f.ireland={calcs:function(b){var a=
0;this.rules.typeFormats.first.test(b)&&(b="0"+b.substring(2,7)+b.substring(0,1)+b.substring(7,8));for(var c=0;7>c;c++)a+=+b.charAt(c)*this.rules.multipliers[c];this.rules.typeFormats.third.test(b)&&(a="H"===b.charAt(8)?a+72:a+9);a=(a%=23)?String.fromCharCode(a+64):"W";b=b.slice(7,8);return a===b},rules:{multipliers:[8,7,6,5,4,3,2],typeFormats:{first:/^\d[A-Z\*\+]/,third:/^\d{7}[A-Z][AH]$/},regex:[/^(IE)(\d{7}[A-W])$/,/^(IE)([7-9][A-Z\*\+)]\d{5}[A-W])$/,/^(IE)(\d{7}[A-W][AH])$/]}};f.italy={calcs:function(b){var a=
0,c;if(!+b.slice(0,7))return!1;c=+b.slice(7,10);if(1>c||201<c&&999!==c&&888!==c)return!1;for(var d=0;10>d;d++)c=+b.charAt(d)*this.rules.multipliers[d],a=9<c?a+(Math.floor(c/10)+c%10):a+c;a=10-a%10;9<a&&(a=0);b=+b.slice(10,11);return a===b},rules:{multipliers:[1,2,1,2,1,2,1,2,1,2],regex:[/^(IT)(\d{11})$/]}};f.latvia={calcs:function(b){var a=0;if(/^[0-3]/.test(b))return!!/^[0-3][0-9][0-1][0-9]/.test(b);for(var c=0;10>c;c++)a+=+b.charAt(c)*this.rules.multipliers[c];4===a%11&&9===b[0]&&(a-=45);4===a%
11?a=4-a%11:4<a%11?a=14-a%11:4>a%11&&(a=3-a%11);b=+b.slice(10,11);return a===b},rules:{multipliers:[9,1,4,8,3,10,2,5,7,6],regex:[/^(LV)(\d{11})$/]}};f.lithunia=function(){function b(a,b,e){return+a.charAt(e)*b[e]}function a(a){a%=11;10===a&&(a=0);return a}return{calcs:function(c){var d;d=this.rules;var e=0;if(9===c.length)if(/^\d{7}1/.test(c)){for(var f=0;8>f;f++)e+=+c.charAt(f)*(f+1);if(10===e%11)for(f=e=0;8>f;f++)e+=b(c,d.multipliers.short,f);e=a(e);d=+c.slice(8,9);d=e===d}else d=!1;else d=!1;if(!d)if(d=
this.rules,e=0,12===c.length)if(d.check.test(c)){for(f=0;11>f;f++)e+=b(c,d.multipliers.med,f);if(10===e%11)for(f=e=0;11>f;f++)e+=b(c,d.multipliers.alt,f);e=a(e);c=+c.slice(11,12);d=e===c}else d=!1;else d=!1;return d},rules:{multipliers:{short:[3,4,5,6,7,8,9,1],med:[1,2,3,4,5,6,7,8,9,1,2],alt:[3,4,5,6,7,8,9,1,2,3,4]},check:/^\d{10}1/,regex:[/^(LT)(\d{9}|\d{12})$/]}}}();f.luxembourg={calcs:function(b){var a=+b.slice(6,8);return+b.slice(0,6)%89===a},rules:{regex:[/^(LU)(\d{8})$/]}};f.malta={calcs:function(b){for(var a=
0,c=0;6>c;c++)a+=+b.charAt(c)*this.rules.multipliers[c];a=37-a%37;b=+b.slice(6,8);return a===b},rules:{multipliers:[3,4,6,7,8,9],regex:[/^(MT)([1-9]\d{7})$/]}};f.netherlands={calcs:function(b){for(var a=0,c=0;8>c;c++)a+=+b.charAt(c)*this.rules.multipliers[c];a%=11;9<a&&(a=0);b=+b.slice(8,9);return a===b},rules:{multipliers:[9,8,7,6,5,4,3,2],regex:[/^(NL)(\d{9})B\d{2}$/]}};f.norway={calcs:function(b){for(var a=0,c=0;8>c;c++)a+=+b.charAt(c)*this.rules.multipliers[c];a=11-a%11;11===a&&(a=0);if(10>a)return b=
+b.slice(8,9),a===b},rules:{multipliers:[3,2,7,6,5,4,3,2],regex:[/^(NO)(\d{9})$/]}};f.poland={calcs:function(b){for(var a=0,c=0;9>c;c++)a+=+b.charAt(c)*this.rules.multipliers[c];a%=11;9<a&&(a=0);b=+b.slice(9,10);return a===b},rules:{multipliers:[6,5,7,2,3,4,5,6,7],regex:[/^(PL)(\d{10})$/]}};f.portugal={calcs:function(b){for(var a=0,c=0;8>c;c++)a+=+b.charAt(c)*this.rules.multipliers[c];a=11-a%11;9<a&&(a=0);b=+b.slice(8,9);return a===b},rules:{multipliers:[9,8,7,6,5,4,3,2],regex:[/^(PT)(\d{9})$/]}};
f.romania={calcs:function(b){for(var a=0,c=this.rules.multipliers.slice(10-b.length),d=0;d<b.length-1;d++)a+=+b.charAt(d)*c[d];a=10*a%11;10===a&&(a=0);b=+b.slice(b.length-1,b.length);return a===b},rules:{multipliers:[7,5,3,2,1,7,5,3,2],regex:[/^(RO)([1-9]\d{1,9})$/]}};f.russia=function(){return{calcs:function(b){var a;var c=this.rules;a=0;if(10===b.length){for(var d=0;10>d;d++)a+=+b.charAt(d)*c.multipliers.m_1[d];a%=11;9<a&&(a%=10);c=+b.slice(9,10);a=a===c}else a=!1;if(!a)if(c=this.rules,a=d=0,12===
b.length){for(var e=0;11>e;e++)d+=+b.charAt(e)*c.multipliers.m_2[e];d%=11;9<d&&(d%=10);for(e=0;11>e;e++)a+=+b.charAt(e)*c.multipliers.m_3[e];a%=11;9<a&&(a%=10);c=d===+b.slice(10,11);b=a===+b.slice(11,12);a=c&&b}else a=!1;return a},rules:{multipliers:{m_1:[2,4,10,3,5,9,4,6,8,0],m_2:[7,2,4,10,3,5,9,4,6,8,0],m_3:[3,7,2,4,10,3,5,9,4,6,8,0]},regex:[/^(RU)(\d{10}|\d{12})$/]}}}();f.serbia={calcs:function(b){for(var a=10,c=0;8>c;c++)(a=(+b.charAt(c)+a)%10)||(a=10),a=2*a%11;return 1===(a+ +b.slice(8,9))%10},
rules:{regex:[/^(RS)(\d{9})$/]}};f.slovakia_republic={calcs:function(b){return!(b%11)},rules:{regex:[/^(SK)([1-9]\d[2346-9]\d{7})$/]}};f.slovenia={calcs:function(b){for(var a=0,c=0;7>c;c++)a+=+b.charAt(c)*this.rules.multipliers[c];a=11-a%11;10===a&&(a=0);b=+b.slice(7,8);return!(11===a||a!==b)},rules:{multipliers:[8,7,6,5,4,3,2],regex:[/^(SI)([1-9]\d{7})$/]}};f.spain={calcs:function(b){var a,c=0,d;if(this.rules.additional[0].test(b)){for(a=0;7>a;a++)d=b.charAt(a+1)*this.rules.multipliers[a],c=9<d?
c+(Math.floor(d/10)+d%10):c+d;c=10-c%10;10===c&&(c=0);a=+b.slice(8,9);return c===a}if(this.rules.additional[1].test(b)){for(a=0;7>a;a++)d=b.charAt(a+1)*this.rules.multipliers[a],c=9<d?c+(Math.floor(d/10)+d%10):c+d;c=String.fromCharCode(10-c%10+64);a=b.slice(8,9);return c===a}return this.rules.additional[2].test(b)?("Y"===b.substring(0,1)&&(b=b.replace(/Y/,"1")),"Z"===b.substring(0,1)&&(b=b.replace(/Z/,"2")),a="TRWAGMYFPDXBNJZSQVHLCKE".charAt(+b.substring(0,8)%23),b.charAt(8)===a):this.rules.additional[3].test(b)?
(a="TRWAGMYFPDXBNJZSQVHLCKE".charAt(+b.substring(1,8)%23),b.charAt(8)===a):!1},rules:{multipliers:[2,1,2,1,2,1,2],regex:[/^(ES)([A-Z]\d{8})$/,/^(ES)([A-HN-SW]\d{7}[A-J])$/,/^(ES)([0-9YZ]\d{7}[A-Z])$/,/^(ES)([KLMX]\d{7}[A-Z])$/],additional:[/^[A-H|J|U|V]\d{8}$/,/^[A-H|N-S|W]\d{7}[A-J]$/,/^[0-9|Y|Z]\d{7}[A-Z]$/,/^[K|L|M|X]\d{7}[A-Z]$/]}};f.sweden={calcs:function(b){for(var a=0,c,d=0;9>d;d+=2)c=+b.charAt(d),a+=Math.floor(c/5)+2*c%10;c=0;for(d=1;9>d;d+=2)c+=+b.charAt(d);a=(10-(a+c)%10)%10;b=+b.slice(9,
10);return a===b},rules:{regex:[/^(SE)(\d{10}01)$/]}};f.switzerland={calcs:function(b){for(var a=0,c=0;8>c;c++)a+=+b.charAt(c)*this.rules.multipliers[c];a=11-a%11;if(10===a)return!1;11===a&&(a=0);b=+b.substr(8,1);return a===b},rules:{multipliers:[5,4,3,2,7,6,5,4],regex:[/^(CHE)(\d{9})(MWST)?$/]}};f.united_kingdom={calcs:function(b){var a=0;if("GD"===b.substr(0,2))return a=500,b.substr(2,3)<a;if("HA"===b.substr(0,2))return a=499,b.substr(2,3)>a;if(!+b.slice(0))return!1;for(var c=+b.slice(0,7),d=0;7>
d;d++)a+=+b.charAt(d)*this.rules.multipliers[d];for(d=a;0<d;)d-=97;d=Math.abs(d);if(d===+b.slice(7,9)&&9990001>c&&(1E5>c||999999<c)&&(9490001>c||97E5<c))return!0;d=55<=d?d-55:d+42;a=+b.slice(7,9);return!!(d===a&&1E6<c)},rules:{multipliers:[8,7,6,5,4,3,2],regex:[/^(GB)?(\d{9})$/,/^(GB)?(\d{12})$/,/^(GB)?(GD\d{3})$/,/^(GB)?(HA\d{3})$/]}};return m}();
}).call(this)

//# sourceMappingURL=jsvat.min.js.map
